extends layout

block append head
  title Chat page
  link(rel="stylesheet" href="/chat.css")

block append scripts
  //- script(src="/socket.io/socket.io.js")
  //- script(src="/script.js")

block content
  h1 Chat

  .alert.alert-info
    | State:
    span(data-status)

  .chat
    .chat-history
      ul.messages
        if (messages)
          each message in messages
            li.clearfix
              .message-data(class={"align-right": user.id !== message.user.id})
                span.message-data-time= message.date
                span.message-data-name= message.author
              .message(class=`message-${user.id === message.user.id ? 'my' : 'other'}`)= message.text


    form.chat-message.clearfix
      textarea#message(placeholder='Type your message', rows='3')
      button Send
